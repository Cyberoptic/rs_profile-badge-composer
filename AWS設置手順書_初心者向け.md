# Profile Badge Composer - AWS設置手順書（初心者向け）

**所要時間**: 約15分  
**必要なもの**: AWSアカウント、GitHubアカウント  
**難易度**: ★☆☆☆☆（簡単）

---

## 📌 この手順書について

このアプリをインターネット上で公開するための手順を、**画面の見え方**を含めて詳しく説明します。
パソコンの操作ができれば、プログラミングの知識がなくても設置できます。

---

## 🎯 設置後のイメージ

設置が完了すると：
- ✅ インターネット上でアプリが使えるようになります
- ✅ URLを共有すれば誰でもアクセスできます
- ✅ スマホでも使えます
- ✅ 自動でHTTPS（鍵マーク）になります

---

## 📋 準備するもの

### 1. AWSアカウント
- お持ちでない場合は、まず作成が必要です
- クレジットカードの登録が必要ですが、**無料枠**があります
- 作成方法: https://aws.amazon.com/jp/ → 「無料で始める」

### 2. GitHubアカウント
- 既にお持ちのアカウントを使用します
- このアプリのコードが保存されている場所です

---

## 🚀 設置手順

### ステップ1: コードを本番用に準備する（GitHub）

#### 1-1. GitHubにアクセス

1. ブラウザ（Chrome、Edgeなど）を開きます
2. 以下のURLにアクセスします：
   ```
   https://github.com/Cyberoptic/rs_profile-badge-composer/pull/1
   ```

#### 1-2. 画面の見え方

画面には以下のような情報が表示されます：
- タイトル: 「feat: Complete Profile Badge Composer v2.1 - Ready for Production」
- 緑色のチェックマーク ✓（テストが成功している証拠）
- 「Merge pull request」という緑色のボタン

#### 1-3. マージ（統合）を実行

1. **「Merge pull request」という緑色のボタン**を探します
   - 画面の下の方にあります
   - ボタンの横に小さな▼マークがあります

2. ▼マークをクリックして、**「Squash and merge」**を選択します
   - これは「きれいにまとめて統合する」という意味です
   - 推奨される方法です

3. もう一度**緑色のボタン**が表示されます
   - 「Confirm squash and merge」と書いてあります
   - このボタンをクリックします

4. **完了！**
   - 「Pull request successfully merged and closed」と表示されます
   - 紫色の「Merged」マークが表示されます

**💡 この作業の意味**: 開発中のコードを、本番用のコードに統合しました

---

### ステップ2: AWSにログインする

#### 2-1. AWS Management Consoleを開く

1. 新しいタブで以下のURLにアクセスします：
   ```
   https://console.aws.amazon.com/
   ```

2. ログイン画面が表示されます

#### 2-2. ログイン

1. **「ルートユーザー」**を選択（通常はこちら）
2. メールアドレスとパスワードを入力
3. 「サインイン」をクリック

#### 2-3. ログイン後の画面

- 黒いバーが上部に表示されます
- 「サービスを検索」という検索ボックスがあります
- たくさんのAWSサービスのアイコンが表示されます

**💡 ここまでで準備完了です！**

---

### ステップ3: AWS Amplifyを開く

#### 3-1. Amplifyを検索

1. 画面上部の**「サービスを検索」**をクリック
2. 「amplify」と入力（小文字でOK）
3. 検索結果に**「AWS Amplify」**が表示されます
4. クリックして開きます

#### 3-2. Amplifyの画面

初めて使う場合：
- 「AWS Amplifyへようこそ」のような画面
- オレンジ色のロゴマーク
- 「Host web app」というボタン

既に使っている場合：
- 過去のアプリ一覧が表示されます
- 「New app」→「Host web app」をクリック

**💡 Amplifyとは**: ウェブサイトを簡単に公開できるAWSのサービスです

---

### ステップ4: GitHubと接続する

#### 4-1. Git プロバイダーを選択

1. 「Get started with Amplify Hosting」という画面が表示されます
2. いくつかの選択肢が表示されます：
   - GitHub
   - Bitbucket
   - GitLab
   - AWS CodeCommit

3. **「GitHub」を選択**します
4. 画面下部の**「Continue」ボタン**をクリック

#### 4-2. GitHubとの接続を許可

1. GitHubのログイン画面が表示されます（既にログイン済みの場合はスキップ）
2. 「Authorize aws-amplify-console」という画面が表示されます
3. これは「AWSにGitHubのデータを見せていいですか？」という確認です
4. **緑色の「Authorize」ボタン**をクリック

#### 4-3. リポジトリを選択

画面に以下の項目が表示されます：

**「Recently updated repositories」**
- Cyberoptic/rs_profile-badge-composer ← **これを選択**

選択すると、下に**「Branch」**という項目が表示されます：
- **「main」を選択**（デフォルトで選択されているはず）

最後に画面下部の**「Next」ボタン**をクリック

**💡 この作業の意味**: GitHubに保存されているコードをAWSで使えるようにしました

---

### ステップ5: ビルド設定を確認する

#### 5-1. ビルド設定画面

「Configure build settings」という画面が表示されます。

この画面では：
- App name（アプリの名前）
- Build settings（ビルドの設定）

が表示されています。

#### 5-2. アプリ名を設定（任意）

**「App name」**の欄：
- デフォルト: 「rs_profile-badge-composer」
- お好きな名前に変更できます
- 例: 「profile-badge-composer」
- 例: 「バッジ作成アプリ」

**推奨**: そのまま「rs_profile-badge-composer」でOK

#### 5-3. ビルド設定の確認

「Build settings」のセクションに以下が表示されています：

```yaml
version: 1
frontend:
  phases:
    preBuild:
      commands:
        - npm ci
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: dist
    files:
      - '**/*'
```

**重要**: この設定は**自動的に検出**されています！
- 「amplify.yml detected」と表示されているはずです
- **何も変更する必要はありません**

#### 5-4. 詳細設定（必要に応じて）

画面を下にスクロールすると：
- Environment variables（環境変数）
- Advanced settings（詳細設定）

が表示されますが、**すべてスキップしてOK**です。

#### 5-5. 次へ進む

画面下部の**「Next」ボタン**をクリック

**💡 この作業の意味**: アプリをどのように作るか（ビルド）の設定を確認しました

---

### ステップ6: 確認してデプロイ開始

#### 6-1. 確認画面

「Review」という画面が表示されます。

以下の情報が表示されています：

**App settings（アプリ設定）**
- App name: rs_profile-badge-composer
- Repository: Cyberoptic/rs_profile-badge-composer
- Branch: main

**Build settings（ビルド設定）**
- Build command: npm run build
- Output directory: dist

**すべて正しいことを確認します**

#### 6-2. デプロイ開始

画面下部の大きな**「Save and deploy」ボタン**をクリック

**💡 これで自動的にアプリの設置が始まります！**

---

### ステップ7: 設置の進行を見守る

#### 7-1. 進行状況の画面

クリックすると、自動的に進行状況画面に移動します。

画面には**4つの段階**が表示されます：

#### 段階1: Provision（準備）
- 時間: 約1分
- 説明: サーバーを準備しています
- 表示: 青いローディングアイコンがくるくる回ります
- 完了: 緑色のチェックマーク ✓

#### 段階2: Build（構築）
- 時間: 約2-3分
- 説明: アプリを作っています
- 表示: 青いローディングアイコン
- 詳細を見る: 「Build」をクリックするとログが見られます
- 完了: 緑色のチェックマーク ✓

#### 段階3: Deploy（配置）
- 時間: 約1分
- 説明: 作ったアプリを配置しています
- 表示: 青いローディングアイコン
- 完了: 緑色のチェックマーク ✓

#### 段階4: Verify（確認）
- 時間: 約30秒
- 説明: 正しく動くか確認しています
- 完了: 緑色のチェックマーク ✓

#### 7-2. 完了の確認

**すべての段階に緑色のチェックマーク ✓ が付いたら完了！**

画面に以下が表示されます：
- 「Deployment successfully completed」
- **URL**が表示されます（例: `https://main.d1234567890abc.amplifyapp.com`）

**💡 合計時間**: だいたい5分くらいで完了します

---

### ステップ8: アプリにアクセスする

#### 8-1. URLを見つける

完了画面に表示されている**URL**を探します：
- 画面の上の方に表示されています
- 「Domain」という項目の下
- `https://main.xxxxx.amplifyapp.com` のような形

#### 8-2. URLをクリック

URLをクリックすると、新しいタブが開いて**アプリが表示されます！**

#### 8-3. 表示の確認

画面には以下が表示されているはずです：
- ヘッダー: 「Profile Badge Composer」
- 青紫色のPBCロゴ
- 左側: 画像を追加するエリア
- 右側: 設定パネル
- フッター: 「Designed & Developed by Helicalworks」

**🎉 これでアプリがインターネット上で公開されました！**

---

## ✅ 動作確認をしよう

### 確認項目

以下の操作を試してみてください：

#### 1. 画像のアップロード
- [ ] 「プロフィール画像をドラッグ＆ドロップ」エリアをクリック
- [ ] 画像ファイルを選択できる
- [ ] 選択した画像が表示される

#### 2. プレビュー表示
- [ ] アップロードした画像のプレビューが表示される
- [ ] 画像の下にダウンロードボタンがある

#### 3. 設定変更
- [ ] 右側の「フレームを表示」をON/OFFできる
- [ ] 「バッジを表示」をON/OFFできる

#### 4. ダウンロード
- [ ] 「すべてダウンロード」ボタンをクリック
- [ ] 画像がダウンロードされる

#### 5. スマホでも確認（任意）
- [ ] スマホでURLにアクセス
- [ ] ちゃんと表示される

**すべて正常に動けばOKです！**

---

## 📱 URLを共有する

### URLの見つけ方

1. AWS Amplify の画面に戻ります
2. アプリ名（rs_profile-badge-composer）をクリック
3. 画面上部に**URL**が表示されています

### URLをコピーする

1. URLをマウスでドラッグして選択
2. 右クリック → 「コピー」
3. または Ctrl+C（Windows）/ Command+C（Mac）

### 共有方法

このURLを共有すれば、誰でもアプリを使えます：
- メールで送る
- チャットで送る
- QRコードにする
- SNSで共有する

**注意**: URLは誰でもアクセスできます（パスワードなし）

---

## 🔄 今後の更新について

### 自動更新の仕組み

今後、コードを更新すると：
1. GitHubの`main`ブランチに変更をpush
2. **自動的に**AWSが検知
3. **自動的に**アプリが更新される
4. 約5分後、新しいバージョンが公開される

### 更新の確認方法

1. AWS Amplifyの画面を開く
2. 左メニューの「Deployments」をクリック
3. 更新の履歴が表示されます
4. 各デプロイの状況（成功/失敗）が見られます

---

## 💰 料金について

### 無料枠（毎月）

AWS Amplifyには無料枠があります：
- ビルド: 1,000分まで無料
- 配信: 15GBまで無料
- ストレージ: 5GBまで無料

### このアプリの場合

**想定される使用量**:
- デプロイ（更新）: 月10回 → 約30分使用
- ユーザー: 月1,000人 → 約2GB配信
- **結果**: **完全に無料枠内！**

### 料金が発生する場合

無料枠を超えた場合のみ：
- ビルド: 1分あたり$0.01（約1.5円）
- 配信: 1GBあたり$0.15（約22円）

**月1万人が使っても**: 約500円～1,000円程度

### 料金の確認方法

1. AWS Management Console
2. 右上のアカウント名をクリック
3. 「Billing Dashboard」を選択
4. 現在の使用料金が表示されます

---

## 🛠️ 困ったときは

### よくある問題と解決方法

#### 問題1: 「Merge pull request」ボタンが見つからない

**原因**: PRが既にマージされている可能性
**確認方法**: PRのページに「Merged」と表示されているか確認
**対応**: 既にマージされていれば次のステップへ

#### 問題2: GitHubとの接続がうまくいかない

**原因**: GitHubのログインが切れている
**対応**: 
1. 別タブでGitHubにログイン
2. もう一度AWS Amplifyで接続を試す

#### 問題3: ビルドが失敗する（赤い×マーク）

**原因**: コードに問題がある可能性
**対応**: 
1. 「Build」をクリックしてログを確認
2. エラーメッセージをコピー
3. 開発者に相談

#### 問題4: アプリが表示されない

**原因**: ブラウザのキャッシュ
**対応**: 
1. キーボードで Ctrl + Shift + R（Windows）
2. または Command + Shift + R（Mac）
3. ページが再読み込みされます

#### 問題5: URLがわからなくなった

**対応**:
1. AWS Amplify の画面を開く
2. アプリ名をクリック
3. 画面上部にURLが表示されます

---

## 📞 サポート窓口

### 技術的な問題

**GitHubで質問**:
1. https://github.com/Cyberoptic/rs_profile-badge-composer にアクセス
2. 「Issues」タブをクリック
3. 「New issue」で質問を投稿

### AWS関連の問題

**AWSサポート**:
1. AWS Management Console
2. 右上の「サポート」をクリック
3. 「サポートセンター」を開く
4. 「ケースを作成」から問い合わせ

---

## 🎓 用語解説

専門用語が出てきたときのための簡単な説明：

**GitHub（ギットハブ）**
- コードを保存・管理するサービス
- 「コードの倉庫」のようなもの

**Pull Request（プルリクエスト）**
- 開発中のコードを本番用に統合すること
- 略して「PR」と呼びます

**Merge（マージ）**
- 統合すること
- 複数のコードを1つにまとめる

**Deploy（デプロイ）**
- アプリを公開すること
- インターネット上で使えるようにする

**Build（ビルド）**
- アプリを作ること
- コードを実際に動く形に変換する

**Branch（ブランチ）**
- コードの枝分かれバージョン
- 「main」は本番用のバージョン

**Repository（リポジトリ）**
- コードが保存されている場所
- 略して「リポ」とも呼びます

**URL**
- インターネット上の住所
- `https://～`で始まる文字列

**SSL/HTTPS**
- 安全な通信の仕組み
- URLが`https://`で始まっていれば安全

---

## ✨ おめでとうございます！

これでProfile Badge Composerの設置は完了です。

### 達成したこと

- ✅ アプリをインターネット上に公開
- ✅ 誰でもアクセスできるURLを取得
- ✅ 自動更新の仕組みを構築
- ✅ 安全なHTTPS通信に対応

### これから

このアプリを使って：
- プロフィール画像にバッジを追加
- 複数の画像を一括処理
- テンプレートを保存して効率化

ができます。

**素晴らしいアプリライフを！** 🎉

---

## 📝 チェックリスト（印刷用）

設置作業の進捗確認にお使いください：

### 事前準備
- [ ] AWSアカウントを持っている
- [ ] GitHubアカウントを持っている
- [ ] ブラウザを起動した

### ステップ1: GitHub
- [ ] PRのページを開いた
- [ ] 「Squash and merge」を実行した
- [ ] 「Merged」が表示された

### ステップ2-3: AWS
- [ ] AWS Management Consoleにログインした
- [ ] AWS Amplifyを開いた

### ステップ4: 接続
- [ ] GitHubを選択した
- [ ] リポジトリを選択した（rs_profile-badge-composer）
- [ ] ブランチを選択した（main）

### ステップ5: 設定
- [ ] アプリ名を確認した
- [ ] ビルド設定を確認した（amplify.yml detected）

### ステップ6-7: デプロイ
- [ ] 「Save and deploy」をクリックした
- [ ] 4つの段階すべてに✓が付いた

### ステップ8: 確認
- [ ] URLを取得した
- [ ] アプリにアクセスできた
- [ ] 動作確認をした

### 完了
- [ ] URLをメモした
- [ ] 必要な人にURLを共有した

---

**設置完了！お疲れ様でした！** 🎊
